<html>

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
  <style>
    nav .btn {
      margin-right: 10px;
    }

    #content {
      display: flex;
      position: fixed;
      top: 56;
      bottom: 0;
      left: 0;
      right: 0;
    }

    #editor-panel {
      flex: 1;
    }

    #output-panel {
      flex: 1;
      overflow: scroll;
    }

    #error {
      color: red;
      margin: 10px;
    }

    #codearea-container {
      flex: 1 1 auto;
      margin-top: 0;
      height: 100%;
      position: relative;
    }

    .CodeMirror {
      position: absolute !important;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100% !important;
    }
  </style>

  <script src="https://unpkg.com/codemirror@5.45.0/lib/codemirror.js"></script>
  <script src="https://unpkg.com/codemirror@5.45.0/mode/javascript/javascript.js"></script>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://unpkg.com/codemirror@5.45.0/lib/codemirror.css" />
</head>

<nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-between">
  <div>
    <button type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#shareModal">
      Share
    </button>
    <button id="run" class="btn btn-outline-success">
      Run
    </button>
    <span id="spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"
      style="display: none"></span>
  </div>
  <form class="form-inline my-2 my-lg-0">
    <a class="navbar-brand" href="..">DataHelix</a>
  </form>
</nav>

<div id="content">
  <div id="editor-panel">
    <template id="error-popup-template">
      <div class="alert alert-danger fade show" role="alert" id="error-popup">
        <span class="content"></span>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </template>

    <div id="codearea-container">
      <textarea rows="20" class="form-control" id="profile" wrap="off">
{
  "schemaVersion": "0.18",
  "fields": [
    { "name": "name", "type": "string" },
    { "name": "age", "type": "integer" }
  ], 
  "constraints": [
    {
      "field": "name",
      "matchingRegex": "[a-z]{1,10}"
    },
    {
      "field": "age",
      "greaterThanOrEqualTo": 0
    },
    {
      "field": "age",
      "lessThan": 100
    }
  ]
}
        </textarea>
    </div>
  </div>
  <div id="output-panel">
    <table id="output" class="table table-striped table-bordered"></table>
  </div>
</div>


<div class="modal fade" id="shareModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Share your playground code ...</h5>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="input-group mb-3">
            <input type="text" class="form-control" id="shareUrl">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" id="copyUrl">Copy</button>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<script src="index.js"></script>
</body>

</html>